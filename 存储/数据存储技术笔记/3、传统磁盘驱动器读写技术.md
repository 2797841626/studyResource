##### RAID实现方式
软件实现
成本低，配置灵活，管理方便。但会占用cpu资源和内存空间
硬件实现
集成RAID芯片的SCSI适配卡（RAID卡），集成RAID芯片的磁盘控制器（RAID控制器）。其都拥有自己独立的处理器，存储器，I/O处理芯片和RAID芯片。

##### 条带化
条带单元stripe chit：磁盘中单个或者多个连续的扇区集合。
条带宽度：一个条带中数据成员盘的个数
条带深度：一个条带单元的容量大小

##### RAID0
无数据校验，简单的并且存储性能最高的条带化技术。利用率100%
##### RAID1
全冗余的阵列模式，一个数据磁盘+一个备用磁盘（镜像）。每次写数据时数据都将完全备份到镜像中。空间利用率50%
##### RAID3
采用一个专用磁盘存放校验数据。
一次写包括写数据块，读取同条带的其他数据块，计算校验数据，写入校验盘，写开销大，写操作性能底。读性能高。
致命缺点：因为只有一个校验盘，不能支持多个写请求的并发响应。只能实现一个写请求的内部并行。
##### RAID5
校验块不集中在一个盘中，按一定规律放在各个盘中，且保证每个条带都有一个校验盘。提高了多个写请求的并发性。
##### RAID6
由原本的一个校验块变成两个校验块。P+Q检验，可允许同时由两个盘出错。
##### RAID01
将多个RAID0磁盘阵列组成一个RAID1阵列。
##### RAID10
将多个RAID1阵列组成一个RAID0阵列
##### RAID50
将多个RAID5阵列组成一个RAID0阵列
相比于6个磁盘的RAID5,6个磁盘的RAID50具有更高的容错，允许每组中都有一个磁盘出错。

##### RAID数据保护
###### 热备盘
热备：当RAID组中某个磁盘失效时，在不干扰当前RAID系统正常工作的情况下，用一个正常的备用磁盘顶替失效磁盘。
全局热备盘是指可以被所有RAID组使用的。
局部热备盘只能被某一特定RAID组使用。
###### 预拷贝
系统通过监控发现RAID组中某成员盘即将发送故障时，将其提前拷贝到热备盘。
SMART工具实现监控。配有smart工具的磁盘称为智能磁盘
###### 失效重构
利用RAID的奇偶校验算法或镜像策略重新生成故障磁盘数据，将其写入热备盘或新的磁盘。
热备是作用在发生之前，重构作用在发生之后。
###### RAID状态

##### LUN虚拟化
LUN:logical unit number逻辑单元
RAID可虚拟化成一个或多个LUN。
为了更好的使用LUN，操作系统会使用逻辑卷管理器（logical volume manager ，LVM）来将这些LUN继续虚拟成PV
LVM：位于操作系统和存储设备之间，将操作系统识别到的磁盘进行组合再分配的软件。LVM屏蔽了存储设备映射给主机的物理磁盘或逻辑磁盘的复杂性，通过将这些磁盘做成卷，以逻辑卷的方式呈现给操作系统。
物理卷（physical volume,PV）:存储设备映射给主机使用的LUN或物理磁盘。
卷组（volume group，vp）：多个PV组成。相当于屏蔽了底层多个物理磁盘的差异，向上提供一个统一管理的磁盘资源池，实现存储空间的动态分配。
逻辑卷（logical volume，lv）将VG进行划分，最终提供给操作系统使用的卷。
![[IMG_20241009_144757.jpg]]
在逻辑卷上实现操作系统的优势：
存储容量：逻辑卷可以随意扩容，LUN划分好后无法增减容量，除非抹掉所有数据进行重新划分。
访问性能：逻辑卷可以通过配置来为应用程序提供优化的性能。
数据安全性：逻辑卷可以通过配置内部镜像来提高数据的安全性